<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Volleyball Rotation System</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Title -->
    <div class="title-bar">
      <h1>Rotation System</h1>
      <div class="system-dropdown" id="system-dropdown">
        <button class="system-badge" id="system-badge">Loading...</button>
        <div class="system-menu" id="system-menu"></div>
      </div>
    </div>

    <!-- Mode toggle -->
    <div class="top-bar">
      <div class="mode-toggle">
        <button class="mode-btn active" data-mode="serving">Serving</button>
        <button class="mode-btn" data-mode="receiving">Receiving</button>
      </div>
    </div>

    <!-- Court area -->
    <div class="court-area">
      <div class="court-container">
        <svg class="court-svg" viewBox="0 0 300 320" preserveAspectRatio="xMidYMid meet">
          <defs>
            <linearGradient id="courtGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#e8844a" />
              <stop offset="50%" style="stop-color:#d4753a" />
              <stop offset="100%" style="stop-color:#e8844a" />
            </linearGradient>
            <pattern id="netPattern" x="0" y="0" width="8" height="8" patternUnits="userSpaceOnUse">
              <rect width="8" height="8" fill="#333"/>
              <rect x="0" y="0" width="4" height="4" fill="#444"/>
              <rect x="4" y="4" width="4" height="4" fill="#444"/>
            </pattern>
            <filter id="playerShadow" x="-50%" y="-50%" width="200%" height="200%">
              <feDropShadow dx="1" dy="1" stdDeviation="1" flood-opacity="0.3"/>
            </filter>
          </defs>

          <!-- Background -->
          <rect x="0" y="0" width="300" height="320" fill="#4a90a4"/>

          <!-- Net area -->
          <rect x="25" y="8" width="250" height="24" fill="url(#netPattern)" rx="2"/>
          <rect x="25" y="8" width="250" height="24" fill="rgba(255,255,255,0.1)" rx="2"/>
          <text x="150" y="24" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="10" font-weight="600" letter-spacing="1">NET</text>

          <!-- Net poles -->
          <rect x="21" y="6" width="5" height="28" fill="#555" rx="1"/>
          <rect x="274" y="6" width="5" height="28" fill="#555" rx="1"/>

          <!-- Court surface -->
          <rect x="25" y="32" width="250" height="250" fill="url(#courtGradient)" rx="2"/>
          <rect x="25" y="32" width="250" height="250" fill="none" stroke="#fff" stroke-width="3" rx="2"/>

          <!-- 3m Attack line -->
          <line x1="25" y1="115" x2="275" y2="115" stroke="#fff" stroke-width="2.5"/>
          <line x1="8" y1="115" x2="25" y2="115" stroke="#fff" stroke-width="2" stroke-dasharray="4,3"/>
          <line x1="275" y1="115" x2="292" y2="115" stroke="#fff" stroke-width="2" stroke-dasharray="4,3"/>

          <!-- Center line at net -->
          <line x1="8" y1="32" x2="292" y2="32" stroke="#fff" stroke-width="4"/>

          <!-- Zone labels -->
          <g id="zone-labels">
            <text x="67" y="78" text-anchor="middle" fill="rgba(255,255,255,0.25)" font-size="24" font-weight="700">4</text>
            <text x="150" y="78" text-anchor="middle" fill="rgba(255,255,255,0.25)" font-size="24" font-weight="700">3</text>
            <text x="233" y="78" text-anchor="middle" fill="rgba(255,255,255,0.25)" font-size="24" font-weight="700">2</text>
            <text x="67" y="210" text-anchor="middle" fill="rgba(255,255,255,0.25)" font-size="24" font-weight="700">5</text>
            <text x="150" y="210" text-anchor="middle" fill="rgba(255,255,255,0.25)" font-size="24" font-weight="700">6</text>
            <text x="233" y="210" text-anchor="middle" fill="rgba(255,255,255,0.25)" font-size="24" font-weight="700">1</text>
          </g>

          <!-- Bench area -->
          <rect x="2" y="200" width="20" height="100" fill="rgba(0,0,0,0.15)" rx="2"/>

          <!-- Players container -->
          <g id="players" filter="url(#playerShadow)"></g>
        </svg>
      </div>

      <div class="phase-controls">
        <div class="phase-btns" id="phase-buttons"></div>
      </div>
    </div>

    <!-- Bottom bar -->
    <div class="bottom-bar">
      <span class="setter-label">SETTER</span>
      <div class="zone-grid">
        <button class="zone-btn" data-zone="4">4</button>
        <button class="zone-btn" data-zone="3">3</button>
        <button class="zone-btn" data-zone="2">2</button>
        <button class="zone-btn" data-zone="5">5</button>
        <button class="zone-btn" data-zone="6">6</button>
        <button class="zone-btn active" data-zone="1">1</button>
      </div>
      <div class="options">
        <button class="option-btn active" id="toggle-zones" title="Show Zones"><span>#</span></button>
        <button class="option-btn active" id="toggle-bench" title="Show Bench"><span>L</span></button>
        <div class="legend-toggle">
          <button class="option-btn" title="Legend"><span>?</span></button>
          <div class="legend-popup">
            <div class="legend-items">
              <div class="legend-item"><span class="legend-dot player"></span><span>Player</span></div>
              <div class="legend-item"><span class="legend-dot highlight"></span><span>Selected</span></div>
              <div class="legend-item"><span class="legend-dot libero"></span><span>Libero</span></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
